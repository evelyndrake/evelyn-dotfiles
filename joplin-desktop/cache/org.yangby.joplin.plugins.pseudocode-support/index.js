(()=>{"use strict";var e={775:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=joplin},200:(e,t)=>{var o,n,i,r,a,l,s,c,u,d;Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptType=t.SettingStorage=t.AppType=t.SettingItemSubType=t.SettingItemType=t.ToolbarButtonLocation=t.isContextMenuItemLocation=t.MenuItemLocation=t.ModelType=t.ImportModuleOutputFormat=t.FileSystemItem=void 0,(d=t.FileSystemItem||(t.FileSystemItem={})).File="file",d.Directory="directory",(u=t.ImportModuleOutputFormat||(t.ImportModuleOutputFormat={})).Markdown="md",u.Html="html",(c=t.ModelType||(t.ModelType={}))[c.Note=1]="Note",c[c.Folder=2]="Folder",c[c.Setting=3]="Setting",c[c.Resource=4]="Resource",c[c.Tag=5]="Tag",c[c.NoteTag=6]="NoteTag",c[c.Search=7]="Search",c[c.Alarm=8]="Alarm",c[c.MasterKey=9]="MasterKey",c[c.ItemChange=10]="ItemChange",c[c.NoteResource=11]="NoteResource",c[c.ResourceLocalState=12]="ResourceLocalState",c[c.Revision=13]="Revision",c[c.Migration=14]="Migration",c[c.SmartFilter=15]="SmartFilter",c[c.Command=16]="Command",function(e){e.File="file",e.Edit="edit",e.View="view",e.Note="note",e.Tools="tools",e.Help="help",e.Context="context",e.NoteListContextMenu="noteListContextMenu",e.EditorContextMenu="editorContextMenu",e.FolderContextMenu="folderContextMenu",e.TagContextMenu="tagContextMenu"}(o=t.MenuItemLocation||(t.MenuItemLocation={})),t.isContextMenuItemLocation=function(e){return[o.Context,o.NoteListContextMenu,o.EditorContextMenu,o.FolderContextMenu,o.TagContextMenu].includes(e)},(s=t.ToolbarButtonLocation||(t.ToolbarButtonLocation={})).NoteToolbar="noteToolbar",s.EditorToolbar="editorToolbar",(l=t.SettingItemType||(t.SettingItemType={}))[l.Int=1]="Int",l[l.String=2]="String",l[l.Bool=3]="Bool",l[l.Array=4]="Array",l[l.Object=5]="Object",l[l.Button=6]="Button",(a=t.SettingItemSubType||(t.SettingItemSubType={})).FilePathAndArgs="file_path_and_args",a.FilePath="file_path",a.DirectoryPath="directory_path",(r=t.AppType||(t.AppType={})).Desktop="desktop",r.Mobile="mobile",r.Cli="cli",(i=t.SettingStorage||(t.SettingStorage={}))[i.Database=1]="Database",i[i.File=2]="File",(n=t.ContentScriptType||(t.ContentScriptType={})).MarkdownItPlugin="markdownItPlugin",n.CodeMirrorPlugin="codeMirrorPlugin"},913:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0,(o=t.Config||(t.Config={})).pluginId="PseudocodeSupport",o.sectionName="Pseudocode Support",o.optionName="enablePseudocodeSupport",o.contentScriptIdForViewer="PseudocodeSupportContentScriptForViewer",o.contentScriptIdForEditor="PseudocodeSupportContentScriptForEditor",o.messageName="getPseudocodeSupportOptions",o.tokenInfo="pseudocode",o.refreshEditorCommand="refreshPseudocodeSupportEditorEnvironment"},607:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function a(e){try{s(n.next(e))}catch(e){r(e)}}function l(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,l)}s((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=o(775),r=o(200),a=o(913),l=o(473),s=o(310);i.default.plugins.register({onStart:function(){return n(this,void 0,void 0,(function*(){const e=new l.Logger;e.info("Started."),yield s.Settings.register(),yield i.default.contentScripts.register(r.ContentScriptType.CodeMirrorPlugin,a.Config.contentScriptIdForEditor,"./pseudocode_editor.js"),yield i.default.contentScripts.register(r.ContentScriptType.MarkdownItPlugin,a.Config.contentScriptIdForViewer,"./pseudocode_viewer.js"),yield i.default.contentScripts.onMessage(a.Config.contentScriptIdForEditor,(t=>n(this,void 0,void 0,(function*(){const o=a.Config.contentScriptIdForEditor;if(e.info(`Content script "${o}" get message "${t.name}".`),t.name==a.Config.messageName)return yield s.Settings.fetch();e.warn(`Unknown message "${t.name}" for the content script "${o}".`)})))),yield i.default.commands.execute("editor.execCommand",{name:a.Config.refreshEditorCommand})}))}})},473:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=o(913);t.Logger=class{constructor(){}log(e){this._inner_log(e,console.log)}trace(e){this._inner_log(e,console.trace)}debug(e){this._inner_log(e,console.debug)}info(e){this._inner_log(e,console.info)}warn(e){this._inner_log(e,console.warn)}error(e){this._inner_log(e,console.error)}_inner_log(e,t){t(`[${n.Config.pluginId}]: ${e}`)}}},310:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function a(e){try{s(n.next(e))}catch(e){r(e)}}function l(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,l)}s((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;const i=o(775),r=o(200),a=o(913),l=o(473);function s(){return n(this,void 0,void 0,(function*(){const e=new l.Logger;e.info(`Settings register section "${a.Config.sectionName}".`),yield i.default.settings.registerSection(a.Config.sectionName,{label:a.Config.sectionName,iconName:"fas fa-code",description:"Typesets pseudocode beautifully in Joplin."});let t={};t.inMathMode={public:!0,type:r.SettingItemType.Bool,label:"In Math Mode",description:"Whether to start parsing in math mode. (default: false)",value:!1,section:a.Config.sectionName},t.indentSize={public:!1,type:r.SettingItemType.String,label:"Indent Size",description:'The indent size of inside a control block. The unit             is "em". (default: 1.2)',value:"1.2",section:a.Config.sectionName},t.commentDelimiter={public:!1,type:r.SettingItemType.String,label:"Comment Delimiter",description:'The delimiters used to start and end a comment             region. Note that only line comments are supported.             (default: "//")',value:"//",section:a.Config.sectionName},t.lineNumber={public:!1,type:r.SettingItemType.Bool,label:"Show Line Numbers",description:"Whether line numbering is enabled. (default: false)",value:!1,section:a.Config.sectionName},t.lineNumberPunc={public:!1,type:r.SettingItemType.String,label:"Line Number Punctuation",description:'The punctuation that follows line number. (default: ":")',value:":",section:a.Config.sectionName},t.noEnd={public:!1,type:r.SettingItemType.Bool,label:"No End",description:"Whether block ending are shown. (default: false)",value:!1,section:a.Config.sectionName},e.info("Settings register all settings."),yield i.default.settings.registerSettings(t)}))}function c(){return n(this,void 0,void 0,(function*(){(new l.Logger).debug("Settings are being fetched.");let e={};const t=["inMathMode","indentSize","commentDelimiter","lineNumber","lineNumberPunc","noEnd"];for(const o of t)e[o]=yield i.default.settings.value(o);return e}))}var u;(u=t.Settings||(t.Settings={})).register=s,u.fetch=c}},t={};!function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}(607)})();