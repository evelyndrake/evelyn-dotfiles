!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptType=t.SettingItemType=t.ToolbarButtonLocation=t.isContextMenuItemLocation=t.MenuItemLocation=t.ImportModuleOutputFormat=t.FileSystemItem=void 0,function(e){e.File="file",e.Directory="directory"}(t.FileSystemItem||(t.FileSystemItem={})),function(e){e.Markdown="md",e.Html="html"}(t.ImportModuleOutputFormat||(t.ImportModuleOutputFormat={})),function(e){e.File="file",e.Edit="edit",e.View="view",e.Note="note",e.Tools="tools",e.Help="help",e.Context="context",e.NoteListContextMenu="noteListContextMenu",e.EditorContextMenu="editorContextMenu",e.FolderContextMenu="folderContextMenu",e.TagContextMenu="tagContextMenu"}(o=t.MenuItemLocation||(t.MenuItemLocation={})),t.isContextMenuItemLocation=function(e){return[o.Context,o.NoteListContextMenu,o.EditorContextMenu,o.FolderContextMenu,o.TagContextMenu].includes(e)},function(e){e.NoteToolbar="noteToolbar",e.EditorToolbar="editorToolbar"}(t.ToolbarButtonLocation||(t.ToolbarButtonLocation={})),function(e){e[e.Int=1]="Int",e[e.String=2]="String",e[e.Bool=3]="Bool",e[e.Array=4]="Array",e[e.Object=5]="Object",e[e.Button=6]="Button"}(t.SettingItemType||(t.SettingItemType={})),function(e){e.MarkdownItPlugin="markdownItPlugin",e.CodeMirrorPlugin="codeMirrorPlugin"}(t.ContentScriptType||(t.ContentScriptType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=joplin},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENABLE_TOGGLE_OVERWRITE=t.ENABLE_JOIN_LINES=t.ACTIVATE_ONLY_SETTING=t.DTI_SETTINGS_PREFIX=t.actions=void 0,t.actions={textMark:{label:"Mark",iconName:"fas fa-highlighter",wrapString:"==",defaultText:"marked text",accelerator:"CmdOrCtrl+Shift+Y",markdownPluginSetting:"markdown.plugin.mark"},textStrikethrough:{label:"Strikethrough",iconName:"fas fa-strikethrough",wrapString:"~~",defaultText:"struck out text",accelerator:"CmdOrCtrl+Shift+U"},textUnderline:{label:"Underline",iconName:"fas fa-underline",wrapString:"++",defaultText:"underlined text",accelerator:"CmdOrCtrl+U",markdownPluginSetting:"markdown.plugin.insert"},textSuperscript:{label:"Superscript",iconName:"fas fa-superscript",wrapString:"^",defaultText:"superscript text",accelerator:null,markdownPluginSetting:"markdown.plugin.sup"},textSubscript:{label:"Subscript",iconName:"fas fa-subscript",wrapString:"~",defaultText:"subscript text",accelerator:null,markdownPluginSetting:"markdown.plugin.sub"}},t.DTI_SETTINGS_PREFIX="disableToolbarIcon.",t.ACTIVATE_ONLY_SETTING="activateOnlyIfEnabledInMarkdownSettings",t.ENABLE_JOIN_LINES="enableJoinLines",t.ENABLE_TOGGLE_OVERWRITE="enableToggleOverwrite",t.default={actions:t.actions,DTI_SETTINGS_PREFIX:t.DTI_SETTINGS_PREFIX,ACTIVATE_ONLY_SETTING:t.ACTIVATE_ONLY_SETTING,ENABLE_JOIN_LINES:t.ENABLE_JOIN_LINES,ENABLE_TOGGLE_OVERWRITE:t.ENABLE_TOGGLE_OVERWRITE}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function l(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),r=n(0),a=n(0),l=n(0),u=n(4),s=n(2);function c(e,t,n="",o=""){e||(e=o);const i=e.search(/[^\s]/),r=e.search(/[^\s](?=[\s]*$)/),a=e.substr(i,r-i+1);if(a.startsWith(t)&&a.endsWith(n)){const o=a.substr(t.length,a.length-t.length-n.length);return e.substr(0,i)+o+e.substr(r+1)}return e.substr(0,i)+t+a+n+e.substr(r+1)}i.default.plugins.register({onStart:function(){return o(this,void 0,void 0,(function*(){yield u.settings.register();const e=yield i.default.settings.value(s.ACTIVATE_ONLY_SETTING),t=yield i.default.settings.value(s.ENABLE_JOIN_LINES),n=yield i.default.settings.value(s.ENABLE_TOGGLE_OVERWRITE);for(const t in s.actions){const n=s.actions[t];let l=!0;if(e&&"textStrikethrough"!==t&&(l=yield i.default.settings.globalValue(n.markdownPluginSetting)),l)i.default.commands.register({name:t,label:n.label,enabledCondition:"markdownEditorPaneVisible && !richTextEditorVisible",iconName:n.iconName,execute:()=>o(this,void 0,void 0,(function*(){const e=c(yield i.default.commands.execute("selectedText"),n.wrapString,n.wrapString,n.defaultText);yield i.default.commands.execute("replaceSelection",e),yield i.default.commands.execute("editor.focus")}))}),!(yield i.default.settings.value(s.DTI_SETTINGS_PREFIX+t))&&i.default.views.toolbarButtons.create(t+"Button",t,a.ToolbarButtonLocation.EditorToolbar),i.default.views.menuItems.create(t+"MenuItem",t,r.MenuItemLocation.Edit,{accelerator:n.accelerator})}t&&(yield i.default.contentScripts.register(l.ContentScriptType.CodeMirrorPlugin,"joinLinesWorkaround","./joinLinesWorkaround.js"),i.default.commands.register({name:"editor.joinLines",label:"Join lines",enabledCondition:"markdownEditorPaneVisible && !richTextEditorVisible",execute:()=>o(this,void 0,void 0,(function*(){yield i.default.commands.execute("editor.execCommand",{name:"joinLines"})}))}),i.default.views.menuItems.create("editorJoinLinesMenuItem","editor.joinLines",r.MenuItemLocation.Edit,{accelerator:"CmdOrCtrl+J"})),n&&(i.default.commands.register({name:"editor.toggleOverwrite",label:"Toggle overwrite",enabledCondition:"markdownEditorPaneVisible && !richTextEditorVisible",execute:()=>o(this,void 0,void 0,(function*(){yield i.default.commands.execute("editor.execCommand",{name:"toggleOverwrite"})}))}),i.default.views.menuItems.create("editorToggleOverwriteMenuItem","editor.toggleOverwrite",r.MenuItemLocation.Edit,{accelerator:"CmdOrCtrl+Shift+O"}))}))}})},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function l(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.settings=void 0;const i=n(1),r=n(0),a=n(2);!function(e){const t="MenuShortcutToolbarSettings";e.register=function(){return o(this,void 0,void 0,(function*(){yield i.default.settings.registerSection(t,{label:"Menu items, shortcuts, toolbar icons",iconName:"fas fa-tools"});let e={};e[a.ACTIVATE_ONLY_SETTING]={value:!1,public:!0,section:t,type:r.SettingItemType.Bool,label:"Only activate, if enabled in Markdown Plugin settings",description:"Only activate menu items, shortcuts, and toolbar icons for markdown plugins which are enabled in Joplin's settings. (requires restart)"},e[a.ENABLE_JOIN_LINES]={value:!0,public:!0,section:t,type:r.SettingItemType.Bool,label:'Enable "join lines" in editor',description:"The markdown editor (CodeMirror) provides a function to join lines. This option enables it. (requires restart)"},e[a.ENABLE_TOGGLE_OVERWRITE]={value:!1,public:!0,section:t,type:r.SettingItemType.Bool,label:'Enable "toggle overwrite mode" in editor',description:"The markdown editor (CodeMirror) provides a function to toggle overwrite mode. This option enables it. (requires restart)"};for(const n in a.actions){const o=a.actions[n];e[a.DTI_SETTINGS_PREFIX+n]={value:!1,public:!0,section:t,advanced:!0,type:r.SettingItemType.Bool,label:"Remove toolbar icon for "+o.wrapString+o.label+o.wrapString+" (requires restart)"}}yield i.default.settings.registerSettings(e)}))}}(t.settings||(t.settings={}))}]);